{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/aviru/.vscode/Every%20Project%20is%20Here/Linktree%20clon/link-tree/app/generate/page.js"],"sourcesContent":["\"use client\"\r\nimport React from 'react'\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { useSearchParams } from 'next/navigation';\r\n\r\nconst generate = () => {\r\n\r\n    const usehParams = useSearchParams()\r\n    const router = useRouter()\r\n\r\n    const [addlinks, setaddlinks] = useState([{link:\"\", text:\"\"}])\r\n    const [handel, sethandel] = useState(usehParams.get('handel'))\r\n    const [ppic, setppic] = useState(\"\")\r\n\r\n    const handleChange = (index, link, text) => { \r\n        setaddlinks((initialLinks)=>{\r\n          return initialLinks.map((item, i)=>{\r\n            if (i==index){\r\n              return {link, text}\r\n            }\r\n            else {\r\n              return item\r\n            }\r\n          })\r\n        })\r\n       }\r\n    \r\n\r\n   const addLinks = () => {\r\n     setaddlinks(addlinks.concat([{text:\"\", link:\"\"}]))\r\n   }\r\n   \r\n    \r\n    \r\n\r\nconst submitLinks = async () => {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    \r\n    const raw = JSON.stringify({\r\n      \"links\": addlinks,\r\n      \"handel\": handel,\r\n      \"profilepic\":ppic\r\n    });\r\n    console.log(raw)\r\n    \r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: \"follow\"\r\n    };\r\n    \r\n    const r = await fetch(\"http://localhost:3000/api/add\", requestOptions);\r\n    const result = await r.json();\r\n    if(result.success === \"true\"){ \r\n      toast.success(result.message)\r\n      setaddlinks([{link:\"\", text:\"\"}])\r\n      sethandel(\"\")\r\n      setppic(\"\")\r\n     }\r\n     else{\r\n       toast.error(result.message)\r\n     }\r\n    router.push(`/${handel}`)\r\n}\r\n\r\n\r\n  return (\r\n   <>\r\n    <section className='bg-purple-300 min-h-[100vh] py-6'>\r\n      <div className='h-[650px] w-full md:w-3xl mx-auto px-4'>\r\n       <h1 className='text-center text-black py-7 text-4xl font-bold'>Edit your profile</h1>\r\n      <div className='h-[500px] custom-scrollbar overflow-auto'>\r\n       <div className='flex flex-col gap-1 mb-9'>\r\n        <label className='text-black font-bold mx-3' htmlFor=\"\">step 1 : Set username</label>\r\n        <input className='bg-white text-black w-full rounded-2xl px-7 py-2' value={handel || \"\"} onChange={(e) => sethandel(e.target.value)} type=\"text\" placeholder='Enter your username' />\r\n       </div>\r\n\r\n        <div className='flex flex-col gap-1 mb-9'>\r\n        <label className='text-black font-bold mx-3' htmlFor=\"\">step 2 : Add links</label>\r\n       {addlinks && addlinks.map((item, index) =>{\r\n        return  <div className='flex gap-1.5 mb-4' key={index}>\r\n        <input className='bg-white text-black w-full rounded-2xl px-7 py-2' value={item.text || \"\"} onChange={e => {handleChange(index,  item.link, e.target.value)}} type=\"text\" placeholder='Site Name' />\r\n        <input className='bg-white text-black w-full rounded-2xl px-7 py-2' value={item.link || \"\"} onChange={e => {handleChange(index, e.target.value, item.text)}} type=\"text\" placeholder='Site link' />\r\n        </div>\r\n       })}\r\n        <button onClick={()=>addLinks()} className=\"bg-gray-800 hover:bg-gray-700 py-2 px-7 mx-auto cursor-pointer text-white rounded-2xl\">+ Add more Links</button>\r\n       </div>\r\n\r\n       <div className='flex flex-col gap-1 mb-9'>\r\n        <label className='text-black font-bold mx-3' htmlFor=\"\">step 3 : Profile picture</label>\r\n        <input className='bg-white text-black w-full rounded-2xl px-7 py-2' value={ppic || \"\"} onChange={(e) => setppic(e.target.value)} type=\"text\" placeholder='Enter your pofile pic' />\r\n       </div>\r\n       </div>\r\n      </div>\r\n       <div className='w-full flex justify-center '>\r\n       <button disabled={ppic == \"\" || handel == \"\" || addlinks[0].text == \"\"} className=\"bg-gray-800 disabled:bg-slate-700 hover:bg-gray-700 fixed bottom-10 py-2 px-7 text-lg mx-auto cursor-pointer text-white rounded-2xl\" onClick={()=>submitLinks()}>Save profile</button>\r\n       </div>\r\n      <ToastContainer />\r\n    </section>\r\n   </>\r\n  )\r\n}\r\n\r\nexport default generate\r\n"],"names":[],"mappings":"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","debugId":null}}]
}